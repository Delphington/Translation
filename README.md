# Лаба 5 - Транслятор арифметических выражений

Даймидзенко Дмитрий, КМБО-05-23

Части программы:
- сканер (лексер) - разбивает текст на токены, отделен от остального
- парсер - рекурсивный нисходящий, строит AST 
- интерпретатор - вычисляет значение выражения

## Грамматика (из задания 2)

```
<Start>   ::= <Expr>
<Expr>    ::= <Term> <Expr'>
<Expr'>   ::= + <Term> <Expr'> | - <Term> <Expr'> | ε
<Term>    ::= <Factor> <Term'>
<Term'>   ::= * <Factor> <Term'> | / <Factor> <Term'> | ε
<Factor>  ::= <Factor2> <Factor'>
<Factor'> ::= % <Factor2> <Factor'> | ε
<Factor2> ::= ( <Expr> ) | N
```

N - целое число

## Терминалы

+, -, *, /, %, (, ), N

## Приоритет операций

От низшего к высшему:
1. +, - (сложение, вычитание)
2. *, / (умножение, деление)
3. % (остаток от деления)

## Как запустить

Нужен python 3.6+

Из файла:
```
python3 translator.py expr.txt
```

Из консоли:
```
python3 translator.py
```
вводим выражение и жмем Ctrl+D

## Примеры

```
4+5%(2*2)
```
Результат: 5

```
1+9%(3*4)
```
Результат: 10

```
10-3*2+8/4
```
Результат: 6

## Структура

### Лексер (класс Lexer)

Отдельный класс. Читает символы и выдает токены: числа, операторы, скобки.

### Парсер (класс Parser)

Рекурсивный нисходящий. Функции для каждого нетерминала:
- parse_start
- parse_expr, parse_expr_prime
- parse_term, parse_term_prime
- parse_factor, parse_factor_prime
- parse_factor2

### Интерпретатор (класс Interpreter)

Обходит AST и вычисляет. Деление целочисленное. Проверяет деление на ноль.

## Ошибки

Три типа:
1. Лексические - непонятный символ
2. Синтаксические - не по грамматике  
3. Семантические - деление на ноль

